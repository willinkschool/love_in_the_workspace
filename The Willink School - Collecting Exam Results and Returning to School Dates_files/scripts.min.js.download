!function(e){"use strict";e.fn.meanmenu=function(t){var i={meanMenuTarget:jQuery(this),meanMenuContainer:"body",meanMenuClose:"X",meanMenuCloseSize:"18px",meanMenuOpen:"<div class='mm-open'>MENU</div><div class='mm-hamburger-icon'><span /><span /><span /></div>",meanRevealPosition:"right",meanRevealPositionDistance:"0",meanRevealColour:"",meanScreenWidth:"480",meanNavPush:"",meanShowChildren:!0,meanExpandableChildren:!0,meanExpand:"+",meanContract:"-",meanRemoveAttrs:!1,onePage:!1,meanDisplay:"block",removeElements:""};t=e.extend(i,t);var n=window.innerWidth||document.documentElement.clientWidth;return this.each(function(){var e=t.meanMenuTarget,i=t.meanMenuContainer,o=t.meanMenuClose,s=t.meanMenuCloseSize,a=t.meanMenuOpen,r=t.meanRevealPosition,l=t.meanRevealPositionDistance,d=t.meanRevealColour,c=t.meanScreenWidth,u=t.meanNavPush,h=".meanmenu-reveal",v=t.meanShowChildren,g=t.meanExpandableChildren,f=t.meanExpand,p=t.meanContract,m=t.meanRemoveAttrs,b=t.onePage,x=t.meanDisplay,w=t.removeElements,y=!1;(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Blackberry/i)||navigator.userAgent.match(/Windows Phone/i))&&(y=!0),(navigator.userAgent.match(/MSIE 8/i)||navigator.userAgent.match(/MSIE 7/i))&&jQuery("html").css("overflow-y","scroll");var S="",C=function(){if("center"===r){var e=window.innerWidth||document.documentElement.clientWidth,t=e/2-53+"px";S="left:"+t+";right:auto;",y?jQuery(".meanmenu-reveal").animate({left:t}):jQuery(".meanmenu-reveal").css("left",t)}},k=!1,E=!1;"right"===r&&(S="right:"+l+";left:auto;"),"left"===r&&(S="left:"+l+";right:auto;"),C();var T="",I=function(){T.html(jQuery(T).is(".meanmenu-reveal.meanclose")?o:a)},j=function(){jQuery(".mean-bar,.mean-push").remove(),jQuery(i).removeClass("mean-container"),jQuery(e).css("display",x),k=!1,E=!1,jQuery(w).removeClass("mean-remove")},M=function(){var t="background:"+d+";color:"+d+";"+S;if(c>=n){jQuery(w).addClass("mean-remove"),E=!0,jQuery(i).addClass("mean-container"),jQuery(".mean-container").prepend('<div class="mean-bar"><a href="#nav" class="meanmenu-reveal" style="'+t+'">Show Navigation</a><nav class="mean-nav"></nav></div>');var o=jQuery(e).html();jQuery(".mean-nav").html(o),m&&jQuery("nav.mean-nav ul, nav.mean-nav ul *").each(function(){jQuery(this).is(".mean-remove")?jQuery(this).attr("class","mean-remove"):jQuery(this).removeAttr("class"),jQuery(this).removeAttr("id")}),jQuery(e).before('<div class="mean-push" />'),jQuery(".mean-push").css("margin-top",u),jQuery(e).hide(),jQuery(".meanmenu-reveal").show(),jQuery(h).html(a),T=jQuery(h),jQuery(".mean-nav ul").hide(),v?g?(jQuery(".mean-nav ul ul").each(function(){jQuery(this).children().length&&jQuery(this,"li:first").parent().append('<a class="mean-expand" href="#" style="font-size: '+s+'">'+f+"</a>")}),jQuery(".mean-expand").on("click",function(e){e.preventDefault(),jQuery(this).hasClass("mean-clicked")?(jQuery(this).text(f),jQuery(this).prev("ul").slideUp(300,function(){})):(jQuery(this).text(p),jQuery(this).prev("ul").slideDown(300,function(){})),jQuery(this).toggleClass("mean-clicked")})):jQuery(".mean-nav ul ul").show():jQuery(".mean-nav ul ul").hide(),jQuery(".mean-nav ul li").last().addClass("mean-last"),T.removeClass("meanclose"),jQuery(T).click(function(e){e.preventDefault(),k===!1?(T.css("text-align","center"),T.css("text-indent","0"),T.css("font-size",s),jQuery(".mean-nav ul:first").slideDown(),k=!0):(jQuery(".mean-nav ul:first").slideUp(),k=!1),T.toggleClass("meanclose"),I(),jQuery(w).addClass("mean-remove")}),b&&jQuery(".mean-nav ul > li > a:first-child").on("click",function(){jQuery(".mean-nav ul:first").slideUp(),k=!1,jQuery(T).toggleClass("meanclose").html(a)})}else j()};y||jQuery(window).resize(function(){n=window.innerWidth||document.documentElement.clientWidth,j(),c>=n?(M(),C()):j()}),jQuery(window).resize(function(){n=window.innerWidth||document.documentElement.clientWidth,y?(C(),c>=n?E===!1&&M():j()):(j(),c>=n&&(M(),C()))}),M()})}}(jQuery),function(e,t,i){e.fn.backstretch=function(n,o){return(n===i||0===n.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),i=t.data("backstretch");if(i){if("string"==typeof n&&"function"==typeof i[n])return void i[n](o);o=e.extend(i.options,o),i.destroy(!0)}i=new s(this,n,o),t.data("backstretch",i)})},e.backstretch=function(t,i){return e("body").backstretch(t,i).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==i},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,alignX:"center",alignY:"top",duration:5e3,fade:0};var n={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},o={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},s=function(i,o,s){this.options=e.extend({},e.fn.backstretch.defaults,s||{}),this.images=e.isArray(o)?o:[o],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=e(i),this.$root=this.isBody?e(a?t:document):this.$container,i=this.$container.children(".backstretch").first(),this.$wrap=i.length?i:e('<div class="backstretch"></div>').css(n).appendTo(this.$container),this.isBody||(i=this.$container.css("position"),o=this.$container.css("zIndex"),this.$container.css({position:"static"===i?"relative":i,zIndex:"auto"===o?0:o,background:"none"}),this.$wrap.css({zIndex:-999998})),this.$wrap.css({position:this.isBody&&a?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};s.prototype={resize:function(){try{var e,i={left:0,top:0},n=this.isBody?this.$root.width():this.$root.innerWidth(),o=n,s=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),a=o/this.$img.data("ratio");a>=s?(e=(a-s)/2,this.options.centeredY&&(i.top="-"+e+"px")):(a=s,o=a*this.$img.data("ratio"),e=(o-n)/2,this.options.centeredX&&(i.left="-"+e+"px")),this.$wrap.css({width:n,height:s}).find("img:not(.deleteable)").css({width:o,height:a}).css(i)}catch(r){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){var i=this,n=i.$wrap.find("img").addClass("deleteable"),s={relatedTarget:i.$container[0]};return i.$container.trigger(e.Event("backstretch.before",s),[i,t]),this.index=t,clearInterval(i.interval),i.$img=e("<img />").css(o).bind("load",function(o){var a=this.width||e(o.target).width();o=this.height||e(o.target).height(),e(this).data("ratio",a/o),e(this).fadeIn(i.options.speed||i.options.fade,function(){n.remove(),i.paused||i.cycle(),e(["after","show"]).each(function(){i.$container.trigger(e.Event("backstretch."+this,s),[i,t])})}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[t]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return 1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}};var a,r=navigator.userAgent,l=navigator.platform,d=r.match(/AppleWebKit\/([0-9]+)/),d=!!d&&d[1],c=r.match(/Fennec\/([0-9]+)/),c=!!c&&c[1],u=r.match(/Opera Mobi\/([0-9]+)/),h=!!u&&u[1],v=r.match(/MSIE ([0-9]+)/),v=!!v&&v[1];a=!((-1<l.indexOf("iPhone")||-1<l.indexOf("iPad")||-1<l.indexOf("iPod"))&&d&&534>d||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||u&&7458>h||-1<r.indexOf("Android")&&d&&533>d||c&&6>c||"palmGetResource"in t&&d&&534>d||-1<r.indexOf("MeeGo")&&-1<r.indexOf("NokiaBrowser/8.5.0")||v&&6>=v)}(jQuery,window),$("#add-grid").click(function(){$("#NewsListing").addClass("grid-view"),$("#NewsListing").removeClass("list-view"),$(this).addClass("active"),$("#add-list").removeClass("active")}),$("#add-list").click(function(){$("#NewsListing").addClass("list-view"),$("#NewsListing").removeClass("grid-view"),$(this).addClass("active"),$("#add-grid").removeClass("active")}),$("#add-grid").click(function(){$(".auto-list").addClass("grid-view-list"),$(".auto-list").removeClass("list-view-list"),$(this).addClass("active"),$("#add-list").removeClass("active")}),$("#add-list").click(function(){$(".auto-list").addClass("list-view-list"),$(".auto-list").removeClass("grid-view-list"),$(this).addClass("active"),$("#add-grid").removeClass("active")}),$(document).ready(function(){$("h4").each(function(){$(this).nextUntil("h4, h5").wrapAll('<div class="answer" />'),$(this).addClass("question"),$(this).addClass("closed"),$(this).css("cursor","pointer")}),$(".answer").hide(),$("h4.question").click(function(){$(this).next().toggle(),$(this).toggleClass("closed"),$(this).toggleClass("open")})}),!function(e,t,i,n){e.fn.doubleTapToGo=function(n){return"ontouchstart"in t||navigator.msMaxTouchPoints||navigator.userAgent.toLowerCase().match(/windows phone os 7/i)?(this.each("unbind"===n?function(){e(this).off(),e(i).off("click touchstart MSPointerDown",handleTouch)}:function(){function t(t){for(var i=!0,o=e(t.target).parents(),s=0;s<o.length;s++)o[s]==n[0]&&(i=!1);i&&(n=!1)}var n=!1;e(this).on("click",function(t){var i=e(this);i[0]!=n[0]&&(t.preventDefault(),n=i)}),e(i).on("click touchstart MSPointerDown",t)}),this):!1}}(jQuery,window,document),function(e){var t=function(t,i){var n=e.extend({},e.fn.nivoSlider.defaults,i),o={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1},s=e(t);s.data("nivo:vars",o).addClass("nivoSlider");var a=s.children();a.each(function(){var t=e(this),i="";t.is("img")||(t.is("a")&&(t.addClass("nivo-imageLink"),i=t),t=t.find("img:first"));var n=0===n?t.attr("width"):t.width(),s=0===s?t.attr("height"):t.height();""!==i&&i.css("display","none"),t.css("display","none"),o.totalSlides++}),n.randomStart&&(n.startSlide=Math.floor(Math.random()*o.totalSlides)),n.startSlide>0&&(n.startSlide>=o.totalSlides&&(n.startSlide=o.totalSlides-1),o.currentSlide=n.startSlide),e(a[o.currentSlide]).is("img")?o.currentImage=e(a[o.currentSlide]):o.currentImage=e(a[o.currentSlide]).find("img:first"),e(a[o.currentSlide]).is("a")&&e(a[o.currentSlide]).css("display","block");var r=e('<img class="nivo-main-image" src="#" />');r.attr("src",o.currentImage.attr("src")).show(),s.append(r),e(window).resize(function(){s.children("img").width(s.width()),r.attr("src",o.currentImage.attr("src")),r.stop().height("auto"),e(".nivo-slice").remove(),e(".nivo-box").remove()}),s.append(e('<div class="nivo-caption"></div>'));var l=function(t){var i=e(".nivo-caption",s);if(""!=o.currentImage.attr("title")&&void 0!=o.currentImage.attr("title")){var n=o.currentImage.attr("title");"#"==n.substr(0,1)&&(n=e(n).html()),"block"==i.css("display")?setTimeout(function(){i.html(n)},t.animSpeed):(i.html(n),i.stop().fadeIn(t.animSpeed))}else i.stop().fadeOut(t.animSpeed)};l(n);var d=0;if(!n.manualAdvance&&a.length>1&&(d=setInterval(function(){g(s,a,n,!1)},n.pauseTime)),n.directionNav&&(s.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+n.prevText+'</a><a class="nivo-nextNav">'+n.nextText+"</a></div>"),e("a.nivo-prevNav",s).live("click",function(){return o.running?!1:(clearInterval(d),d="",o.currentSlide-=2,void g(s,a,n,"prev"))}),e("a.nivo-nextNav",s).live("click",function(){return o.running?!1:(clearInterval(d),d="",void g(s,a,n,"next"))})),n.controlNav){o.controlNavEl=e('<div class="nivo-controlNav"></div>'),s.after(o.controlNavEl);for(var c=0;c<a.length;c++)if(n.controlNavThumbs){o.controlNavEl.addClass("nivo-thumbs-enabled");var u=a.eq(c);u.is("img")||(u=u.find("img:first")),u.attr("data-thumb")&&o.controlNavEl.append('<a class="nivo-control" rel="'+c+'"><img src="'+u.attr("data-thumb")+'" alt="" /></a>')}else o.controlNavEl.append('<a class="nivo-control" rel="'+c+'">'+(c+1)+"</a>");e("a:eq("+o.currentSlide+")",o.controlNavEl).addClass("active"),e("a",o.controlNavEl).bind("click",function(){return o.running?!1:e(this).hasClass("active")?!1:(clearInterval(d),d="",r.attr("src",o.currentImage.attr("src")),o.currentSlide=e(this).attr("rel")-1,void g(s,a,n,"control"))})}n.pauseOnHover&&s.hover(function(){o.paused=!0,clearInterval(d),d=""},function(){o.paused=!1,""!==d||n.manualAdvance||(d=setInterval(function(){g(s,a,n,!1)},n.pauseTime))}),s.bind("nivo:animFinished",function(){r.attr("src",o.currentImage.attr("src")),o.running=!1,e(a).each(function(){e(this).is("a")&&e(this).css("display","none")}),e(a[o.currentSlide]).is("a")&&e(a[o.currentSlide]).css("display","block"),""!==d||o.paused||n.manualAdvance||(d=setInterval(function(){g(s,a,n,!1)},n.pauseTime)),n.afterChange.call(this)});var h=function(t,i,n){e(n.currentImage).parent().is("a")&&e(n.currentImage).parent().css("display","block"),e('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();for(var o=e('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().is("a")?e('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").parent().height():e('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height(),s=0;s<i.slices;s++){var a=Math.round(t.width()/i.slices);s===i.slices-1?t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(a+s*a-a)+'px;" /></div>').css({left:a*s+"px",width:t.width()-a*s+"px",height:o+"px",opacity:"0",overflow:"hidden"})):t.append(e('<div class="nivo-slice" name="'+s+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block !important; top:0; left:-"+(a+s*a-a)+'px;" /></div>').css({left:a*s+"px",width:a+"px",height:o+"px",opacity:"0",overflow:"hidden"}))}e(".nivo-slice",t).height(o),r.stop().animate({height:e(n.currentImage).height()},i.animSpeed)},v=function(t,i,n){e(n.currentImage).parent().is("a")&&e(n.currentImage).parent().css("display","block"),e('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").width(t.width()).css("visibility","hidden").show();for(var o=Math.round(t.width()/i.boxCols),s=Math.round(e('img[src="'+n.currentImage.attr("src")+'"]',t).not(".nivo-main-image,.nivo-control img").height()/i.boxRows),a=0;a<i.boxRows;a++)for(var l=0;l<i.boxCols;l++)l===i.boxCols-1?(t.append(e('<div class="nivo-box" name="'+l+'" rel="'+a+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*a+"px; left:-"+o*l+'px;" /></div>').css({opacity:0,left:o*l+"px",top:s*a+"px",width:t.width()-o*l+"px"})),e('.nivo-box[name="'+l+'"]',t).height(e('.nivo-box[name="'+l+'"] img',t).height()+"px")):(t.append(e('<div class="nivo-box" name="'+l+'" rel="'+a+'"><img src="'+n.currentImage.attr("src")+'" style="position:absolute; width:'+t.width()+"px; height:auto; display:block; top:-"+s*a+"px; left:-"+o*l+'px;" /></div>').css({opacity:0,left:o*l+"px",top:s*a+"px",width:o+"px"})),e('.nivo-box[name="'+l+'"]',t).height(e('.nivo-box[name="'+l+'"] img',t).height()+"px"));r.stop().animate({height:e(n.currentImage).height()},i.animSpeed)},g=function(t,i,n,o){var s=t.data("nivo:vars");if(s&&s.currentSlide===s.totalSlides-1&&n.lastSlide.call(this),(!s||s.stop)&&!o)return!1;n.beforeChange.call(this),o?("prev"===o&&r.attr("src",s.currentImage.attr("src")),"next"===o&&r.attr("src",s.currentImage.attr("src"))):r.attr("src",s.currentImage.attr("src")),s.currentSlide++,s.currentSlide===s.totalSlides&&(s.currentSlide=0,n.slideshowEnd.call(this)),s.currentSlide<0&&(s.currentSlide=s.totalSlides-1),e(i[s.currentSlide]).is("img")?s.currentImage=e(i[s.currentSlide]):s.currentImage=e(i[s.currentSlide]).find("img:first"),n.controlNav&&(e("a",s.controlNavEl).removeClass("active"),e("a:eq("+s.currentSlide+")",s.controlNavEl).addClass("active")),l(n),e(".nivo-slice",t).remove(),e(".nivo-box",t).remove();var a=n.effect,d="";"random"===n.effect&&(d=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),a=d[Math.floor(Math.random()*(d.length+1))],void 0===a&&(a="fade")),-1!==n.effect.indexOf(",")&&(d=n.effect.split(","),a=d[Math.floor(Math.random()*d.length)],void 0===a&&(a="fade")),s.currentImage.attr("data-transition")&&(a=s.currentImage.attr("data-transition")),s.running=!0;var c=0,u=0,g="",p="",m="",b="";if("sliceDown"===a||"sliceDownRight"===a||"sliceDownLeft"===a)h(t,n,s),c=0,u=0,g=e(".nivo-slice",t),"sliceDownLeft"===a&&(g=e(".nivo-slice",t)._reverse()),g.each(function(){var i=e(this);i.css({top:"0px"}),u===n.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1.0"},n.animSpeed)},100+c),c+=50,u++});else if("sliceUp"===a||"sliceUpRight"===a||"sliceUpLeft"===a)h(t,n,s),c=0,u=0,g=e(".nivo-slice",t),"sliceUpLeft"===a&&(g=e(".nivo-slice",t)._reverse()),g.each(function(){var i=e(this);i.css({bottom:"0px"}),u===n.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1.0"},n.animSpeed)},100+c),c+=50,u++});else if("sliceUpDown"===a||"sliceUpDownRight"===a||"sliceUpDownLeft"===a){h(t,n,s),c=0,u=0;var x=0;g=e(".nivo-slice",t),"sliceUpDownLeft"===a&&(g=e(".nivo-slice",t)._reverse()),g.each(function(){var i=e(this);0===u?(i.css("top","0px"),u++):(i.css("bottom","0px"),u=0),x===n.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1.0"},n.animSpeed)},100+c),c+=50,x++})}else if("fold"===a)h(t,n,s),c=0,u=0,e(".nivo-slice",t).each(function(){var i=e(this),o=i.width();i.css({top:"0px",width:"0px"}),u===n.slices-1?setTimeout(function(){i.animate({width:o,opacity:"1.0"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({width:o,opacity:"1.0"},n.animSpeed)},100+c),c+=50,u++});else if("fade"===a)h(t,n,s),p=e(".nivo-slice:first",t),p.css({width:t.width()+"px"}),p.animate({opacity:"1.0"},2*n.animSpeed,"",function(){t.trigger("nivo:animFinished")});else if("slideInRight"===a)h(t,n,s),p=e(".nivo-slice:first",t),p.css({width:"0px",opacity:"1"}),p.animate({width:t.width()+"px"},2*n.animSpeed,"",function(){t.trigger("nivo:animFinished")});else if("slideInLeft"===a)h(t,n,s),p=e(".nivo-slice:first",t),p.css({width:"0px",opacity:"1",left:"",right:"0px"}),p.animate({width:t.width()+"px"},2*n.animSpeed,"",function(){p.css({left:"0px",right:""}),t.trigger("nivo:animFinished")});else if("boxRandom"===a)v(t,n,s),m=n.boxCols*n.boxRows,u=0,c=0,b=f(e(".nivo-box",t)),b.each(function(){var i=e(this);u===m-1?setTimeout(function(){i.animate({opacity:"1"},n.animSpeed,"",function(){t.trigger("nivo:animFinished")})},100+c):setTimeout(function(){i.animate({opacity:"1"},n.animSpeed)},100+c),c+=20,u++});else if("boxRain"===a||"boxRainReverse"===a||"boxRainGrow"===a||"boxRainGrowReverse"===a){v(t,n,s),m=n.boxCols*n.boxRows,u=0,c=0;var w=0,y=0,S=[];S[w]=[],b=e(".nivo-box",t),("boxRainReverse"===a||"boxRainGrowReverse"===a)&&(b=e(".nivo-box",t)._reverse()),b.each(function(){S[w][y]=e(this),y++,y===n.boxCols&&(w++,y=0,S[w]=[])});for(var C=0;C<2*n.boxCols;C++){for(var k=C,E=0;E<n.boxRows;E++)k>=0&&k<n.boxCols&&(!function(i,o,s,r,l){var d=e(S[i][o]),c=d.width(),u=d.height();("boxRainGrow"===a||"boxRainGrowReverse"===a)&&d.width(0).height(0),r===l-1?setTimeout(function(){d.animate({opacity:"1",width:c,height:u},n.animSpeed/1.3,"",function(){t.trigger("nivo:animFinished")})},100+s):setTimeout(function(){d.animate({opacity:"1",width:c,height:u},n.animSpeed/1.3)},100+s)}(E,k,c,u,m),u++),k--;c+=100}}},f=function(e){for(var t,i,n=e.length;n;t=parseInt(Math.random()*n,10),i=e[--n],e[n]=e[t],e[t]=i);return e},p=function(e){this.console&&"undefined"!=typeof console.log&&console.log(e)};return this.stop=function(){e(t).data("nivo:vars").stop||(e(t).data("nivo:vars").stop=!0,p("Stop Slider"))},this.start=function(){e(t).data("nivo:vars").stop&&(e(t).data("nivo:vars").stop=!1,p("Start Slider"))},n.afterLoad.call(this),this};e.fn.nivoSlider=function(i){return this.each(function(n,o){var s=e(this);if(s.data("nivoslider"))return s.data("nivoslider");var a=new t(this,i);s.data("nivoslider",a)})},e.fn.nivoSlider.defaults={effect:"random",slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},e.fn._reverse=[].reverse}(jQuery),$(function(){console.log("init. data-other-things: "+$("tbody").attr("data-other-things"));var e=$("table").stupidtable();e.bind("aftertablesort",function(){console.log("sort. data-other-things: "+$("tbody").attr("data-other-things"))})}),function(e){e.fn.stupidtable=function(t){return this.each(function(){var i=e(this);t=t||{},t=e.extend({},e.fn.stupidtable.default_sort_fns,t),i.data("sortFns",t),i.on("click.stupidtable","thead th",function(){e(this).stupidsort()})})},e.fn.stupidsort=function(t){var i=e(this),n=0,o=e.fn.stupidtable.dir,s=i.closest("table"),a=i.data("sort")||null;if(null!==a){i.parents("tr").find("th").slice(0,e(this).index()).each(function(){var t=e(this).attr("colspan")||1;n+=parseInt(t,10)});var r;if(1==arguments.length?r=t:(r=t||i.data("sort-default")||o.ASC,i.data("sort-dir")&&(r=i.data("sort-dir")===o.ASC?o.DESC:o.ASC)),i.data("sort-dir")!==r)return i.data("sort-dir",r),s.trigger("beforetablesort",{column:n,direction:r,$th:i}),s.css("display"),setTimeout(function(){var t=[],l=s.data("sortFns")[a],d=s.children("tbody").children("tr");d.each(function(i,o){var s=e(o).children().eq(n),a=s.data("sort-value");"undefined"==typeof a&&(a=s.text(),s.data("sort-value",a)),t.push([a,o,i])}),t.sort(function(e,t){var i=l(e[0],t[0]);return 0===i?e[2]-t[2]:i}),r!=o.ASC&&t.reverse(),d=e.map(t,function(e){return e[1]}),s.children("tbody").append(d),s.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),i.data("sort-dir",r).addClass("sorting-"+r),s.trigger("aftertablesort",{column:n,direction:r,$th:i}),s.css("display")},10),i}},e.fn.updateSortVal=function(t){var i=e(this);return i.is("[data-sort-value]")&&i.attr("data-sort-value",t),i.data("sort-value",t),i},e.fn.stupidtable.dir={ASC:"asc",DESC:"desc"},e.fn.stupidtable.default_sort_fns={"int":function(e,t){return parseInt(e,10)-parseInt(t,10)},"float":function(e,t){return parseFloat(e)-parseFloat(t)},string:function(e,t){return e.toString().localeCompare(t.toString())},"string-ins":function(e,t){return e=e.toString().toLocaleLowerCase(),t=t.toString().toLocaleLowerCase(),e.localeCompare(t)}}}(jQuery),jQuery(function(e){e("#slideClick").click(function(){var t=e(this).data("it")||1;switch(t){case 1:e(this).parent().animate({left:"0px"},{queue:!1,duration:500});break;case 2:e(this).parent().animate({left:"-250px"},{queue:!1,duration:500})}t++,t>2&&(t=1),e(this).data("it",t),e(this).toggleClass("open")}),e("#slideOut").css({height:e("#slideContent").height()+"px"}),e("#slideOut").css({"margin-top":-e("#slideContent").height()/2+"px"})}),$(document).ready(function(){function e(){var e=$(window).width();750>e?($("#slideContent").css("display","none")):($("#slideContent").css("display","block"))}e(),$(window).bind("resize orientationchange",function(){e()})}),$(document).ready(function(){$(".flip").click(function(){$(this).toggleClass("open"),$("#slideContent").slideToggle("slow")})}),function(){function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,t,i){try{var n=new window.CustomEvent("test");if(n.preventDefault(),n.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch(o){var s=function(e,t){var i,n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent"),i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=i.preventDefault,i.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},i};s.prototype=window.Event.prototype,window.CustomEvent=s}},{}],2:[function(e,t,i){"use strict";function n(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(void 0!==o&&null!==o)for(var s=Object.keys(Object(o)),a=0,r=s.length;r>a;a++){var l=s[a],d=Object.getOwnPropertyDescriptor(o,l);void 0!==d&&d.enumerable&&(i[l]=o[l])}}return i}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}t.exports={assign:n,polyfill:o}},{}],3:[function(e,t,i){"use strict";var n=e("../index"),o=function(e){e.fn.modalVideo=function(e){return"strings"==typeof e||new n(this,e),this}};if("function"==typeof define&&define.amd)define(["jquery"],o);else{var s=window.jQuery?window.jQuery:window.$;"undefined"!=typeof s&&o(s)}t.exports=o},{"../index":5}],4:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();e("custom-event-polyfill");var s=e("../lib/util"),a=e("es6-object-assign").assign,r={channel:"youtube",facebook:{},youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,list:null,listType:null,loop:0,modestbranding:null,origin:null,playlist:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark",nocookie:!1},ratio:"16:9",vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,height:null,loop:!0,maxheight:null,maxwidth:null,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},allowFullScreen:!0,animationSpeed:300,classNames:{modalVideo:"modal-video",modalVideoClose:"modal-video-close",modalVideoBody:"modal-video-body",modalVideoInner:"modal-video-inner",modalVideoIframeWrap:"modal-video-movie-wrap",modalVideoCloseBtn:"modal-video-close-btn"},aria:{openMessage:"You just openned the modal video",dismissBtnMessage:"Close the modal by clicking here"}},l=function(){function e(t,i){var o=this;n(this,e);var l=a({},r,i),d="string"==typeof t?document.querySelectorAll(t):t,c=document.querySelector("body"),u=l.classNames,h=l.animationSpeed;[].forEach.call(d,function(e){e.addEventListener("click",function(){var t=e.dataset.videoId,i=e.dataset.channel||l.channel,n=(0,s.getUniqId)(),a=e.dataset.videoUrl||o.getVideoUrl(l,i,t),r=o.getHtml(l,a,n);(0,s.append)(c,r);var d=document.getElementById(n),v=d.querySelector(".js-modal-video-dismiss-btn");d.focus(),d.addEventListener("click",function(){(0,s.addClass)(d,u.modalVideoClose),setTimeout(function(){(0,s.remove)(d),e.focus()},h)}),d.addEventListener("keydown",function(e){9===e.which&&(e.preventDefault(),document.activeElement===d?v.focus():(d.setAttribute("aria-label",""),d.focus()))}),v.addEventListener("click",function(){(0,s.triggerEvent)(d,"click")})})})}return o(e,[{key:"getPadding",value:function(e){var t=e.split(":"),i=Number(t[0]),n=Number(t[1]),o=100*n/i;return o+"%"}},{key:"getQueryString",value:function(e){var t="";return Object.keys(e).forEach(function(i){t+=i+"="+e[i]+"&"}),t.substr(0,t.length-1)}},{key:"getVideoUrl",value:function(e,t,i){return"youtube"===t?this.getYoutubeUrl(e.youtube,i):"vimeo"===t?this.getVimeoUrl(e.vimeo,i):"facebook"===t?this.getFacebookUrl(e.facebook,i):""}},{key:"getVimeoUrl",value:function(e,t){var i=this.getQueryString(e);return"//player.vimeo.com/video/"+t+"?"+i}},{key:"getYoutubeUrl",value:function(e,t){var i=this.getQueryString(e);return e.nocookie===!0?"//www.youtube-nocookie.com/embed/"+t+"?"+i:"//www.youtube.com/embed/"+t+"?"+i}},{key:"getFacebookUrl",value:function(e,t){return"//www.facebook.com/v2.10/plugins/video.php?href=https://www.facebook.com/facebook/videos/"+t+"&"+this.getQueryString(e)}},{key:"getHtml",value:function(e,t,i){var n=this.getPadding(e.ratio),o=e.classNames;return'\n      <div class="'+o.modalVideo+'" tabindex="-1" role="dialog" aria-label="'+e.aria.openMessage+'" id="'+i+'">\n        <div class="'+o.modalVideoBody+'">\n          <div class="'+o.modalVideoInner+'">\n            <div class="'+o.modalVideoIframeWrap+'" style="padding-bottom:'+n+'">\n              <button class="'+o.modalVideoCloseBtn+' js-modal-video-dismiss-btn" aria-label="'+e.aria.dismissBtnMessage+"\"></button>\n              <iframe width='460' height='230' src=\""+t+"\" frameborder='0' allowfullscreen="+e.allowFullScreen+' tabindex="-1"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}}]),e}();i["default"]=l,t.exports=i["default"]},{"../lib/util":6,"custom-event-polyfill":1,"es6-object-assign":2}],5:[function(e,t,i){"use strict";t.exports=e("./core/")},{"./core/":4}],6:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.append=function(e,t){var i=document.createElement("div");for(i.innerHTML=t;i.children.length>0;)e.appendChild(i.children[0])},i.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},i.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},i.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},i.triggerEvent=function(e,t,i){var n=void 0;window.CustomEvent?n=new CustomEvent(t,{cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!1,!1,i)),e.dispatchEvent(n)}},{}]},{},[3]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ModalVideo=e()}}(function(){return function(){function e(t,i,n){function o(a,r){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i?i:e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,t,i){try{var n=new window.CustomEvent("test");if(n.preventDefault(),n.defaultPrevented!==!0)throw new Error("Could not prevent default");
}catch(o){var s=function(e,t){var i,n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},i=document.createEvent("CustomEvent"),i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=i.preventDefault,i.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},i};s.prototype=window.Event.prototype,window.CustomEvent=s}},{}],2:[function(e,t,i){"use strict";function n(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var i=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(void 0!==o&&null!==o)for(var s=Object.keys(Object(o)),a=0,r=s.length;r>a;a++){var l=s[a],d=Object.getOwnPropertyDescriptor(o,l);void 0!==d&&d.enumerable&&(i[l]=o[l])}}return i}function o(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}t.exports={assign:n,polyfill:o}},{}],3:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();e("custom-event-polyfill");var s=e("../lib/util"),a=e("es6-object-assign").assign,r={channel:"youtube",facebook:{},youtube:{autoplay:1,cc_load_policy:1,color:null,controls:1,disablekb:0,enablejsapi:0,end:null,fs:1,h1:null,iv_load_policy:1,list:null,listType:null,loop:0,modestbranding:null,origin:null,playlist:null,playsinline:null,rel:0,showinfo:1,start:0,wmode:"transparent",theme:"dark",nocookie:!1},ratio:"16:9",vimeo:{api:!1,autopause:!0,autoplay:!0,byline:!0,callback:null,color:null,height:null,loop:!0,maxheight:null,maxwidth:null,player_id:null,portrait:!0,title:!0,width:null,xhtml:!1},allowFullScreen:!0,animationSpeed:300,classNames:{modalVideo:"modal-video",modalVideoClose:"modal-video-close",modalVideoBody:"modal-video-body",modalVideoInner:"modal-video-inner",modalVideoIframeWrap:"modal-video-movie-wrap",modalVideoCloseBtn:"modal-video-close-btn"},aria:{openMessage:"You just openned the modal video",dismissBtnMessage:"Close the modal by clicking here"}},l=function(){function e(t,i){var o=this;n(this,e);var l=a({},r,i),d="string"==typeof t?document.querySelectorAll(t):t,c=document.querySelector("body"),u=l.classNames,h=l.animationSpeed;[].forEach.call(d,function(e){e.addEventListener("click",function(){var t=e.dataset.videoId,i=e.dataset.channel||l.channel,n=(0,s.getUniqId)(),a=e.dataset.videoUrl||o.getVideoUrl(l,i,t),r=o.getHtml(l,a,n);(0,s.append)(c,r);var d=document.getElementById(n),v=d.querySelector(".js-modal-video-dismiss-btn");d.focus(),d.addEventListener("click",function(){(0,s.addClass)(d,u.modalVideoClose),setTimeout(function(){(0,s.remove)(d),e.focus()},h)}),d.addEventListener("keydown",function(e){9===e.which&&(e.preventDefault(),document.activeElement===d?v.focus():(d.setAttribute("aria-label",""),d.focus()))}),v.addEventListener("click",function(){(0,s.triggerEvent)(d,"click")})})})}return o(e,[{key:"getPadding",value:function(e){var t=e.split(":"),i=Number(t[0]),n=Number(t[1]),o=100*n/i;return o+"%"}},{key:"getQueryString",value:function(e){var t="";return Object.keys(e).forEach(function(i){t+=i+"="+e[i]+"&"}),t.substr(0,t.length-1)}},{key:"getVideoUrl",value:function(e,t,i){return"youtube"===t?this.getYoutubeUrl(e.youtube,i):"vimeo"===t?this.getVimeoUrl(e.vimeo,i):"facebook"===t?this.getFacebookUrl(e.facebook,i):""}},{key:"getVimeoUrl",value:function(e,t){var i=this.getQueryString(e);return"//player.vimeo.com/video/"+t+"?"+i}},{key:"getYoutubeUrl",value:function(e,t){var i=this.getQueryString(e);return e.nocookie===!0?"//www.youtube-nocookie.com/embed/"+t+"?"+i:"//www.youtube.com/embed/"+t+"?"+i}},{key:"getFacebookUrl",value:function(e,t){return"//www.facebook.com/v2.10/plugins/video.php?href=https://www.facebook.com/facebook/videos/"+t+"&"+this.getQueryString(e)}},{key:"getHtml",value:function(e,t,i){var n=this.getPadding(e.ratio),o=e.classNames;return'\n      <div class="'+o.modalVideo+'" tabindex="-1" role="dialog" aria-label="'+e.aria.openMessage+'" id="'+i+'">\n        <div class="'+o.modalVideoBody+'">\n          <div class="'+o.modalVideoInner+'">\n            <div class="'+o.modalVideoIframeWrap+'" style="padding-bottom:'+n+'">\n              <button class="'+o.modalVideoCloseBtn+' js-modal-video-dismiss-btn" aria-label="'+e.aria.dismissBtnMessage+"\"></button>\n              <iframe width='460' height='230' src=\""+t+"\" frameborder='0' allowfullscreen="+e.allowFullScreen+' tabindex="-1"/>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}}]),e}();i["default"]=l,t.exports=i["default"]},{"../lib/util":5,"custom-event-polyfill":1,"es6-object-assign":2}],4:[function(e,t,i){"use strict";t.exports=e("./core/")},{"./core/":3}],5:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.append=function(e,t){var i=document.createElement("div");for(i.innerHTML=t;i.children.length>0;)e.appendChild(i.children[0])},i.getUniqId=function(){return(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()},i.remove=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},i.addClass=function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},i.triggerEvent=function(e,t,i){var n=void 0;window.CustomEvent?n=new CustomEvent(t,{cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!1,!1,i)),e.dispatchEvent(n)}},{}]},{},[4])(4)}),!function(e){var t={},n={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};e.fn.bxSlider=function(o){if(0==this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(o)}),this;var s={},a=this;t.el=this;var r=e(window).width(),l=e(window).height(),d=function(){s.settings=e.extend({},n,o),s.settings.slideWidth=parseInt(s.settings.slideWidth),s.children=a.children(s.settings.slideSelector),s.children.length<s.settings.minSlides&&(s.settings.minSlides=s.children.length),s.children.length<s.settings.maxSlides&&(s.settings.maxSlides=s.children.length),s.settings.randomStart&&(s.settings.startSlide=Math.floor(Math.random()*s.children.length)),s.active={index:s.settings.startSlide},s.carousel=s.settings.minSlides>1||s.settings.maxSlides>1,s.carousel&&(s.settings.preloadImages="all"),s.minThreshold=s.settings.minSlides*s.settings.slideWidth+(s.settings.minSlides-1)*s.settings.slideMargin,s.maxThreshold=s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin,s.working=!1,s.controls={},s.interval=null,s.animProp="vertical"==s.settings.mode?"top":"left",s.usingCSS=s.settings.useCSS&&"fade"!=s.settings.mode&&function(){var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var i in t)if(void 0!==e.style[t[i]])return s.cssPrefix=t[i].replace("Perspective","").toLowerCase(),s.animProp="-"+s.cssPrefix+"-transform",!0;return!1}(),"vertical"==s.settings.mode&&(s.settings.maxSlides=s.settings.minSlides),a.data("origStyle",a.attr("style")),a.children(s.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),c()},c=function(){a.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),s.viewport=a.parent(),s.loader=e('<div class="bx-loading" />'),s.viewport.prepend(s.loader),a.css({width:"horizontal"==s.settings.mode?100*s.children.length+215+"%":"auto",position:"relative"}),s.usingCSS&&s.settings.easing?a.css("-"+s.cssPrefix+"-transition-timing-function",s.settings.easing):s.settings.easing||(s.settings.easing="swing"),p(),s.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),s.viewport.parent().css({maxWidth:g()}),s.settings.pager||s.viewport.parent().css({margin:"0 auto 0px"}),s.children.css({"float":"horizontal"==s.settings.mode?"left":"none",listStyle:"none",position:"relative"}),s.children.css("width",f()),"horizontal"==s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginRight",s.settings.slideMargin),"vertical"==s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginBottom",s.settings.slideMargin),"fade"==s.settings.mode&&(s.children.css({position:"absolute",zIndex:0,display:"none"}),s.children.eq(s.settings.startSlide).css({zIndex:s.settings.slideZIndex,display:"block"})),s.controls.el=e('<div class="bx-controls" />'),s.settings.captions&&E(),s.active.last=s.settings.startSlide==m()-1,s.settings.video&&a.fitVids();var t=s.children.eq(s.settings.startSlide);"all"==s.settings.preloadImages&&(t=s.children),s.settings.ticker?s.settings.pager=!1:(s.settings.pager&&S(),s.settings.controls&&C(),s.settings.auto&&s.settings.autoControls&&k(),(s.settings.controls||s.settings.autoControls||s.settings.pager)&&s.viewport.after(s.controls.el)),u(t,h)},u=function(t,i){var n=t.find("img, iframe").length;if(0==n)return void i();var o=0;t.find("img, iframe").each(function(){e(this).one("load",function(){++o==n&&i()}).each(function(){this.complete&&e(this).load()})})},h=function(){if(s.settings.infiniteLoop&&"fade"!=s.settings.mode&&!s.settings.ticker){var t="vertical"==s.settings.mode?s.settings.minSlides:s.settings.maxSlides,i=s.children.slice(0,t).clone().addClass("bx-clone"),n=s.children.slice(-t).clone().addClass("bx-clone");a.append(i).prepend(n)}s.loader.remove(),x(),"vertical"==s.settings.mode&&(s.settings.adaptiveHeight=!0),s.viewport.height(v()),a.redrawSlider(),s.settings.onSliderLoad(s.active.index),s.initialized=!0,s.settings.responsive&&e(window).bind("resize",V),s.settings.auto&&s.settings.autoStart&&O(),s.settings.ticker&&z(),s.settings.pager&&$(s.settings.startSlide),s.settings.controls&&D(),s.settings.touchEnabled&&!s.settings.ticker&&L()},v=function(){var t=0,n=e();if("vertical"==s.settings.mode||s.settings.adaptiveHeight)if(s.carousel){var o=1==s.settings.moveSlides?s.active.index:s.active.index*b();for(n=s.children.eq(o),i=1;i<=s.settings.maxSlides-1;i++)n=o+i>=s.children.length?n.add(s.children.eq(i-1)):n.add(s.children.eq(o+i))}else n=s.children.eq(s.active.index);else n=s.children;return"vertical"==s.settings.mode?(n.each(function(){t+=e(this).outerHeight()}),s.settings.slideMargin>0&&(t+=s.settings.slideMargin*(s.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),t},g=function(){var e="100%";return s.settings.slideWidth>0&&(e="horizontal"==s.settings.mode?s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin:s.settings.slideWidth),e},f=function(){var e=s.settings.slideWidth,t=s.viewport.width();return 0==s.settings.slideWidth||s.settings.slideWidth>t&&!s.carousel||"vertical"==s.settings.mode?e=t:s.settings.maxSlides>1&&"horizontal"==s.settings.mode&&(t>s.maxThreshold||t<s.minThreshold&&(e=(t-s.settings.slideMargin*(s.settings.minSlides-1))/s.settings.minSlides)),e},p=function(){var e=1;if("horizontal"==s.settings.mode&&s.settings.slideWidth>0)if(s.viewport.width()<s.minThreshold)e=s.settings.minSlides;else if(s.viewport.width()>s.maxThreshold)e=s.settings.maxSlides;else{var t=s.children.first().width();e=Math.floor(s.viewport.width()/t)}else"vertical"==s.settings.mode&&(e=s.settings.minSlides);return e},m=function(){var e=0;if(s.settings.moveSlides>0)if(s.settings.infiniteLoop)e=s.children.length/b();else for(var t=0,i=0;t<s.children.length;)++e,t=i+p(),i+=s.settings.moveSlides<=p()?s.settings.moveSlides:p();else e=Math.ceil(s.children.length/p());return e},b=function(){return s.settings.moveSlides>0&&s.settings.moveSlides<=p()?s.settings.moveSlides:p()},x=function(){if(s.children.length>s.settings.maxSlides&&s.active.last&&!s.settings.infiniteLoop){if("horizontal"==s.settings.mode){var e=s.children.last(),t=e.position();w(-(t.left-(s.viewport.width()-e.width())),"reset",0)}else if("vertical"==s.settings.mode){var i=s.children.length-s.settings.minSlides,t=s.children.eq(i).position();w(-t.top,"reset",0)}}else{var t=s.children.eq(s.active.index*b()).position();s.active.index==m()-1&&(s.active.last=!0),void 0!=t&&("horizontal"==s.settings.mode?w(-t.left,"reset",0):"vertical"==s.settings.mode&&w(-t.top,"reset",0))}},w=function(e,t,i,n){if(s.usingCSS){var o="vertical"==s.settings.mode?"translate3d(0, "+e+"px, 0)":"translate3d("+e+"px, 0, 0)";a.css("-"+s.cssPrefix+"-transition-duration",i/1e3+"s"),"slide"==t?(a.css(s.animProp,o),a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),Q()})):"reset"==t?a.css(s.animProp,o):"ticker"==t&&(a.css("-"+s.cssPrefix+"-transition-timing-function","linear"),a.css(s.animProp,o),a.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),w(n.resetValue,"reset",0),A()}))}else{var r={};r[s.animProp]=e,"slide"==t?a.animate(r,i,s.settings.easing,function(){Q()}):"reset"==t?a.css(s.animProp,e):"ticker"==t&&a.animate(r,speed,"linear",function(){w(n.resetValue,"reset",0),A()})}},y=function(){for(var t="",i=m(),n=0;i>n;n++){var o="";s.settings.buildPager&&e.isFunction(s.settings.buildPager)?(o=s.settings.buildPager(n),s.pagerEl.addClass("bx-custom-pager")):(o=n+1,s.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+n+'" class="bx-pager-link">'+o+"</a></div>"}s.pagerEl.html(t)},S=function(){s.settings.pagerCustom?s.pagerEl=e(s.settings.pagerCustom):(s.pagerEl=e('<div class="bx-pager" />'),s.settings.pagerSelector?e(s.settings.pagerSelector).html(s.pagerEl):s.controls.el.addClass("bx-has-pager").append(s.pagerEl),y()),s.pagerEl.on("click","a",P)},C=function(){s.controls.next=e('<a class="bx-next" href="">'+s.settings.nextText+"</a>"),s.controls.prev=e('<a class="bx-prev" href="">'+s.settings.prevText+"</a>"),s.controls.next.bind("click",T),s.controls.prev.bind("click",I),s.settings.nextSelector&&e(s.settings.nextSelector).append(s.controls.next),s.settings.prevSelector&&e(s.settings.prevSelector).append(s.controls.prev),s.settings.nextSelector||s.settings.prevSelector||(s.controls.directionEl=e('<div class="bx-controls-direction" />'),s.controls.directionEl.append(s.controls.prev).append(s.controls.next),s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))},k=function(){s.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+s.settings.startText+"</a></div>"),s.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+s.settings.stopText+"</a></div>"),s.controls.autoEl=e('<div class="bx-controls-auto" />'),s.controls.autoEl.on("click",".bx-start",j),s.controls.autoEl.on("click",".bx-stop",M),s.settings.autoControlsCombine?s.controls.autoEl.append(s.controls.start):s.controls.autoEl.append(s.controls.start).append(s.controls.stop),s.settings.autoControlsSelector?e(s.settings.autoControlsSelector).html(s.controls.autoEl):s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl),N(s.settings.autoStart?"stop":"start")},E=function(){s.children.each(function(){var t=e(this).find("img:first").attr("title");void 0!=t&&(""+t).length&&e(this).append('<div class="bx-caption"><span>'+t+"</span></div>")})},T=function(e){s.settings.auto&&a.stopAuto(),a.goToNextSlide(),e.preventDefault()},I=function(e){s.settings.auto&&a.stopAuto(),a.goToPrevSlide(),e.preventDefault()},j=function(e){a.startAuto(),e.preventDefault()},M=function(e){a.stopAuto(),e.preventDefault()},P=function(t){s.settings.auto&&a.stopAuto();var i=e(t.currentTarget),n=parseInt(i.attr("data-slide-index"));n!=s.active.index&&a.goToSlide(n),t.preventDefault()},$=function(t){var i=s.children.length;return"short"==s.settings.pagerType?(s.settings.maxSlides>1&&(i=Math.ceil(s.children.length/s.settings.maxSlides)),void s.pagerEl.html(t+1+s.settings.pagerShortSeparator+i)):(s.pagerEl.find("a").removeClass("active"),void s.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}))},Q=function(){if(s.settings.infiniteLoop){var e="";0==s.active.index?e=s.children.eq(0).position():s.active.index==m()-1&&s.carousel?e=s.children.eq((m()-1)*b()).position():s.active.index==s.children.length-1&&(e=s.children.eq(s.children.length-1).position()),e&&("horizontal"==s.settings.mode?w(-e.left,"reset",0):"vertical"==s.settings.mode&&w(-e.top,"reset",0))}s.working=!1,s.settings.onSlideAfter(s.children.eq(s.active.index),s.oldIndex,s.active.index)},N=function(e){s.settings.autoControlsCombine?s.controls.autoEl.html(s.controls[e]):(s.controls.autoEl.find("a").removeClass("active"),s.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},D=function(){1==m()?(s.controls.prev.addClass("disabled"),s.controls.next.addClass("disabled")):!s.settings.infiniteLoop&&s.settings.hideControlOnEnd&&(0==s.active.index?(s.controls.prev.addClass("disabled"),s.controls.next.removeClass("disabled")):s.active.index==m()-1?(s.controls.next.addClass("disabled"),s.controls.prev.removeClass("disabled")):(s.controls.prev.removeClass("disabled"),s.controls.next.removeClass("disabled")))},O=function(){s.settings.autoDelay>0?setTimeout(a.startAuto,s.settings.autoDelay):a.startAuto(),s.settings.autoHover&&a.hover(function(){s.interval&&(a.stopAuto(!0),s.autoPaused=!0)},function(){s.autoPaused&&(a.startAuto(!0),s.autoPaused=null)})},z=function(){var t=0;if("next"==s.settings.autoDirection)a.append(s.children.clone().addClass("bx-clone"));else{a.prepend(s.children.clone().addClass("bx-clone"));var i=s.children.first().position();t="horizontal"==s.settings.mode?-i.left:-i.top}w(t,"reset",0),s.settings.pager=!1,s.settings.controls=!1,s.settings.autoControls=!1,s.settings.tickerHover&&!s.usingCSS&&s.viewport.hover(function(){a.stop()},function(){var t=0;s.children.each(function(){t+="horizontal"==s.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)});var i=s.settings.speed/t,n="horizontal"==s.settings.mode?"left":"top",o=i*(t-Math.abs(parseInt(a.css(n))));A(o)}),A()},A=function(e){speed=e?e:s.settings.speed;var t={left:0,top:0},i={left:0,top:0};"next"==s.settings.autoDirection?t=a.find(".bx-clone").first().position():i=s.children.first().position();var n="horizontal"==s.settings.mode?-t.left:-t.top,o="horizontal"==s.settings.mode?-i.left:-i.top,r={resetValue:o};w(n,"ticker",speed,r)},L=function(){s.touch={start:{x:0,y:0},end:{x:0,y:0}},s.viewport.bind("touchstart",q)},q=function(e){if(s.working)e.preventDefault();else{s.touch.originalPos=a.position();var t=e.originalEvent;s.touch.start.x=t.changedTouches[0].pageX,s.touch.start.y=t.changedTouches[0].pageY,s.viewport.bind("touchmove",R),s.viewport.bind("touchend",U)}},R=function(e){var t=e.originalEvent,i=Math.abs(t.changedTouches[0].pageX-s.touch.start.x),n=Math.abs(t.changedTouches[0].pageY-s.touch.start.y);if(3*i>n&&s.settings.preventDefaultSwipeX?e.preventDefault():3*n>i&&s.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!=s.settings.mode&&s.settings.oneToOneTouch){var o=0;if("horizontal"==s.settings.mode){var a=t.changedTouches[0].pageX-s.touch.start.x;o=s.touch.originalPos.left+a}else{var a=t.changedTouches[0].pageY-s.touch.start.y;o=s.touch.originalPos.top+a}w(o,"reset",0)}},U=function(e){s.viewport.unbind("touchmove",R);var t=e.originalEvent,i=0;if(s.touch.end.x=t.changedTouches[0].pageX,s.touch.end.y=t.changedTouches[0].pageY,"fade"==s.settings.mode){var n=Math.abs(s.touch.start.x-s.touch.end.x);n>=s.settings.swipeThreshold&&(s.touch.start.x>s.touch.end.x?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto())}else{var n=0;"horizontal"==s.settings.mode?(n=s.touch.end.x-s.touch.start.x,i=s.touch.originalPos.left):(n=s.touch.end.y-s.touch.start.y,i=s.touch.originalPos.top),!s.settings.infiniteLoop&&(0==s.active.index&&n>0||s.active.last&&0>n)?w(i,"reset",200):Math.abs(n)>=s.settings.swipeThreshold?(0>n?a.goToNextSlide():a.goToPrevSlide(),a.stopAuto()):w(i,"reset",200)}s.viewport.unbind("touchend",U)},V=function(){var t=e(window).width(),i=e(window).height();(r!=t||l!=i)&&(r=t,l=i,a.redrawSlider(),s.settings.onSliderResize.call(a,s.active.index))};return a.goToSlide=function(t,i){if(!s.working&&s.active.index!=t)if(s.working=!0,s.oldIndex=s.active.index,s.active.index=0>t?m()-1:t>=m()?0:t,s.settings.onSlideBefore(s.children.eq(s.active.index),s.oldIndex,s.active.index),"next"==i?s.settings.onSlideNext(s.children.eq(s.active.index),s.oldIndex,s.active.index):"prev"==i&&s.settings.onSlidePrev(s.children.eq(s.active.index),s.oldIndex,s.active.index),s.active.last=s.active.index>=m()-1,s.settings.pager&&$(s.active.index),s.settings.controls&&D(),"fade"==s.settings.mode)s.settings.adaptiveHeight&&s.viewport.height()!=v()&&s.viewport.animate({height:v()},s.settings.adaptiveHeightSpeed),s.children.filter(":visible").fadeOut(s.settings.speed).css({zIndex:0}),s.children.eq(s.active.index).css("zIndex",s.settings.slideZIndex+1).fadeIn(s.settings.speed,function(){e(this).css("zIndex",s.settings.slideZIndex),Q()});else{s.settings.adaptiveHeight&&s.viewport.height()!=v()&&s.viewport.animate({height:v()},s.settings.adaptiveHeightSpeed);var n=0,o={left:0,top:0};if(!s.settings.infiniteLoop&&s.carousel&&s.active.last)if("horizontal"==s.settings.mode){var r=s.children.eq(s.children.length-1);o=r.position(),n=s.viewport.width()-r.outerWidth()}else{var l=s.children.length-s.settings.minSlides;o=s.children.eq(l).position()}else if(s.carousel&&s.active.last&&"prev"==i){var d=1==s.settings.moveSlides?s.settings.maxSlides-b():(m()-1)*b()-(s.children.length-s.settings.maxSlides),r=a.children(".bx-clone").eq(d);o=r.position()}else if("next"==i&&0==s.active.index)o=a.find("> .bx-clone").eq(s.settings.maxSlides).position(),s.active.last=!1;else if(t>=0){var c=t*b();o=s.children.eq(c).position()}if("undefined"!=typeof o){var u="horizontal"==s.settings.mode?-(o.left-n):-o.top;w(u,"slide",s.settings.speed)}}},a.goToNextSlide=function(){if(s.settings.infiniteLoop||!s.active.last){var e=parseInt(s.active.index)+1;a.goToSlide(e,"next")}},a.goToPrevSlide=function(){if(s.settings.infiniteLoop||0!=s.active.index){var e=parseInt(s.active.index)-1;a.goToSlide(e,"prev")}},a.startAuto=function(e){s.interval||(s.interval=setInterval(function(){"next"==s.settings.autoDirection?a.goToNextSlide():a.goToPrevSlide()},s.settings.pause),s.settings.autoControls&&1!=e&&N("stop"))},a.stopAuto=function(e){s.interval&&(clearInterval(s.interval),s.interval=null,s.settings.autoControls&&1!=e&&N("start"))},a.getCurrentSlide=function(){return s.active.index},a.getCurrentSlideElement=function(){return s.children.eq(s.active.index)},a.getSlideCount=function(){return s.children.length},a.redrawSlider=function(){s.children.add(a.find(".bx-clone")).outerWidth(f()),s.viewport.css("height",v()),s.settings.ticker||x(),s.active.last&&(s.active.index=m()-1),s.active.index>=m()&&(s.active.last=!0),s.settings.pager&&!s.settings.pagerCustom&&(y(),$(s.active.index))},a.destroySlider=function(){s.initialized&&(s.initialized=!1,e(".bx-clone",this).remove(),s.children.each(function(){void 0!=e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!=e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),s.controls.el&&s.controls.el.remove(),s.controls.next&&s.controls.next.remove(),s.controls.prev&&s.controls.prev.remove(),s.pagerEl&&s.settings.controls&&s.pagerEl.remove(),e(".bx-caption",this).remove(),s.controls.autoEl&&s.controls.autoEl.remove(),clearInterval(s.interval),s.settings.responsive&&e(window).unbind("resize",V))},a.reloadSlider=function(e){void 0!=e&&(o=e),a.destroySlider(),d()},d(),this}}(jQuery);
